{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\0011_Final_PROJECT\\\\Alumni-Networking-Platform\\\\Client\\\\src\\\\components\\\\user\\\\LogsRow.js\";\nimport React, { Component } from 'react';\nimport { requester } from '../../infrastructure';\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common';\nexport default class UserRow extends Component {\n  constructor(props) {\n    super(props);\n    this.promote = event => {\n      event.preventDefault();\n      const id = this.state.id;\n      requester.post('/users/promote?id=' + id, id, response => {\n        if (response.success) {\n          this.setState({\n            role: 'ADMIN'\n          });\n          toast.success(/*#__PURE__*/React.createElement(ToastComponent.successToast, {\n            text: response.message,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 31\n            }\n          }), {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        } else {\n          toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast, {\n            text: response.message,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 29\n            }\n          }), {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      }).catch(err => {\n        toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast, {\n          text: `Internal Server Error: ${err.message}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n        if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n          localStorage.clear();\n          this.props.history.push('/login');\n        }\n      });\n    };\n    this.demote = event => {\n      event.preventDefault();\n      const id = this.state.id;\n      requester.post('/users/demote?id=' + id, id, response => {\n        if (response.success) {\n          this.setState({\n            role: 'USER'\n          });\n          toast.success(/*#__PURE__*/React.createElement(ToastComponent.successToast, {\n            text: response.message,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 31\n            }\n          }), {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        } else {\n          toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast, {\n            text: response.message,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }\n          }), {\n            position: toast.POSITION.TOP_RIGHT\n          });\n        }\n      }).catch(err => {\n        toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast, {\n          text: `Internal Server Error: ${err.message}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }\n        }), {\n          position: toast.POSITION.TOP_RIGHT\n        });\n        if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n          localStorage.clear();\n          this.props.history.push('/login');\n        }\n      });\n    };\n    this.render = () => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        className: \"col-md-1 font-weight-bold\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }\n      }, this.state.index), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"col-md-2\",\n        style: {\n          'color': '#40a3f4'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }, this.state.username), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"col-md-2 py-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, this.state.method), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"col-md-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }, this.state.action), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"col-md-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, this.state.tableName), /*#__PURE__*/React.createElement(\"td\", {\n        className: \"col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, this.state.time));\n    };\n    this.state = {\n      id: '',\n      username: '',\n      method: '',\n      tableName: '',\n      action: '',\n      time: ''\n    };\n    this.promote = this.promote.bind(this);\n    this.demote = this.demote.bind(this);\n  }\n  componentDidMount() {\n    this.setState({\n      ...this.props\n    });\n  }\n}","map":{"version":3,"names":["React","Component","requester","toast","ToastComponent","UserRow","constructor","props","promote","event","preventDefault","id","state","post","response","success","setState","role","createElement","successToast","text","message","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","position","POSITION","TOP_RIGHT","error","errorToast","catch","err","status","localStorage","clear","history","push","demote","render","className","index","style","username","method","action","tableName","time","bind","componentDidMount"],"sources":["C:/Users/Administrator/Documents/0011_Final_PROJECT/Alumni-Networking-Platform/Client/src/components/user/LogsRow.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { requester } from '../../infrastructure'\r\nimport { toast } from 'react-toastify';\r\nimport { ToastComponent } from '../common'\r\n\r\nexport default class UserRow extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            id: '',\r\n            username: '',\r\n            method: '',\r\n            tableName: '',\r\n            action: '',\r\n            time: ''\r\n        }\r\n\r\n        this.promote = this.promote.bind(this);\r\n        this.demote = this.demote.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setState({...this.props})\r\n    }\r\n\r\n    promote = (event) => {\r\n        event.preventDefault();\r\n        const id = this.state.id;\r\n        requester.post('/users/promote?id=' + id, id, (response) => {\r\n            if (response.success) {\r\n                this.setState({role: 'ADMIN'})\r\n                toast.success(<ToastComponent.successToast text={response.message} />, {\r\n                    position: toast.POSITION.TOP_RIGHT\r\n                });\r\n            } else {\r\n                toast.error(<ToastComponent.errorToast text={response.message} />, {\r\n                    position: toast.POSITION.TOP_RIGHT\r\n                });\r\n            }\r\n        }).catch(err => {\r\n            toast.error(<ToastComponent.errorToast text={`Internal Server Error: ${err.message}`} />, {\r\n                position: toast.POSITION.TOP_RIGHT\r\n            });\r\n\r\n            if(err.status === 403 && err.message === 'Your JWT token is expired. Please log in!'){\r\n                localStorage.clear();\r\n                this.props.history.push('/login');\r\n            }\r\n        })\r\n    }\r\n\r\n    demote = (event) => {\r\n        event.preventDefault();\r\n        const id = this.state.id;\r\n        requester.post('/users/demote?id=' + id, id, (response) => {\r\n            if (response.success) {\r\n                this.setState({role: 'USER'})\r\n                toast.success(<ToastComponent.successToast text={response.message} />, {\r\n                    position: toast.POSITION.TOP_RIGHT\r\n                });\r\n            } else {\r\n                toast.error(<ToastComponent.errorToast text={response.message} />, {\r\n                    position: toast.POSITION.TOP_RIGHT\r\n                });\r\n            }\r\n\r\n        }).catch(err => {\r\n            toast.error(<ToastComponent.errorToast text={`Internal Server Error: ${err.message}`} />, {\r\n                position: toast.POSITION.TOP_RIGHT\r\n            });\r\n\r\n            if(err.status === 403 && err.message === 'Your JWT token is expired. Please log in!'){\r\n                localStorage.clear();\r\n                this.props.history.push('/login');\r\n            }\r\n        })\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n            <tr className=\"row\" >\r\n                <td className=\"col-md-1 font-weight-bold\" >\r\n                   {this.state.index}\r\n                </td>\r\n                <td className=\"col-md-2\" style={{'color':'#40a3f4'}}>\r\n                   {this.state.username}\r\n                </td>\r\n\r\n                <td className=\"col-md-2 py-auto\" >\r\n                    {this.state.method}\r\n                </td>\r\n\r\n                <td className=\"col-md-2\" >\r\n                   {this.state.action}\r\n                </td>\r\n\r\n                <td className=\"col-md-2\" >\r\n                    {this.state.tableName}\r\n                </td>\r\n\r\n                <td className=\"col-md-3\" >\r\n                    {this.state.time}\r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}