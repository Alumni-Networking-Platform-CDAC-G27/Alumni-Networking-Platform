{"ast":null,"code":"import { requester } from '../../infrastructure';\nimport { FETCH_ALLMESSAGES_SUCCESS, FETCH_ALLMESSAGES_BEGIN, FETCH_ALLMESSAGES_ERROR, ADD_MESSAGE, FETCH_UNREADMESSAGES_SUCCESS, FETCH_UNREADMESSAGES_BEGIN, FETCH_UNREADMESSAGES_ERROR, LOAD_USER_MESSAGES } from './actionTypes';\n\n// fetchAllMessages\nconst fetchAllMessagesSuccess = allMessages => {\n  return {\n    type: FETCH_ALLMESSAGES_SUCCESS,\n    payload: allMessages\n  };\n};\nconst fetchAllMessagesBegin = () => {\n  return {\n    type: FETCH_ALLMESSAGES_BEGIN\n  };\n};\nconst fetchAllMessagesError = (error, message, status, path) => {\n  return {\n    type: FETCH_ALLMESSAGES_ERROR,\n    error,\n    message,\n    status,\n    path\n  };\n};\nconst fetchAllMessagesAction = chatUserId => {\n  return dispatch => {\n    dispatch(fetchAllMessagesBegin());\n    return requester.get('/message/all/' + chatUserId, response => {\n      if (response.error) {\n        const {\n          error,\n          message,\n          status,\n          path\n        } = response;\n        dispatch(fetchAllMessagesError(error, message, status, path));\n      } else {\n        dispatch(fetchAllMessagesSuccess(response));\n        dispatch(fetchAllUnreadMessagesAction());\n      }\n    }).catch(err => {\n      if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n        localStorage.clear();\n      }\n      dispatch(fetchAllMessagesError('', `Error: ${err.message}`, err.status, ''));\n    });\n  };\n};\nconst addMessageAction = messageBody => {\n  return {\n    type: ADD_MESSAGE,\n    payload: messageBody\n  };\n};\n\n// fetchAllUnreadMessages\nconst fetchAllUnreadMessagesSuccess = allUnreadMessages => {\n  return {\n    type: FETCH_UNREADMESSAGES_SUCCESS,\n    payload: allUnreadMessages\n  };\n};\nconst fetchAllUnreadMessagesBegin = () => {\n  return {\n    type: FETCH_UNREADMESSAGES_BEGIN\n  };\n};\nconst fetchAllUnreadMessagesError = (error, message, status, path) => {\n  return {\n    type: FETCH_UNREADMESSAGES_ERROR,\n    error,\n    message,\n    status,\n    path\n  };\n};\nconst fetchAllUnreadMessagesAction = () => {\n  return dispatch => {\n    dispatch(fetchAllUnreadMessagesBegin());\n    return requester.get('/message/friend', response => {\n      if (response.error) {\n        const {\n          error,\n          message,\n          status,\n          path\n        } = response;\n        dispatch(fetchAllUnreadMessagesError(error, message, status, path));\n      } else {\n        dispatch(fetchAllUnreadMessagesSuccess(response));\n      }\n    }).catch(err => {\n      if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n        localStorage.clear();\n      }\n      dispatch(fetchAllUnreadMessagesError('', `Error: ${err.message}`, err.status, ''));\n    });\n  };\n};\n\n// LoadUserMessages and showUserChatBox\nconst triggerMessageLoadAction = userData => {\n  return {\n    type: LOAD_USER_MESSAGES,\n    payload: userData\n  };\n};\nexport { fetchAllMessagesAction, addMessageAction, fetchAllUnreadMessagesAction, triggerMessageLoadAction };","map":{"version":3,"names":["requester","FETCH_ALLMESSAGES_SUCCESS","FETCH_ALLMESSAGES_BEGIN","FETCH_ALLMESSAGES_ERROR","ADD_MESSAGE","FETCH_UNREADMESSAGES_SUCCESS","FETCH_UNREADMESSAGES_BEGIN","FETCH_UNREADMESSAGES_ERROR","LOAD_USER_MESSAGES","fetchAllMessagesSuccess","allMessages","type","payload","fetchAllMessagesBegin","fetchAllMessagesError","error","message","status","path","fetchAllMessagesAction","chatUserId","dispatch","get","response","fetchAllUnreadMessagesAction","catch","err","localStorage","clear","addMessageAction","messageBody","fetchAllUnreadMessagesSuccess","allUnreadMessages","fetchAllUnreadMessagesBegin","fetchAllUnreadMessagesError","triggerMessageLoadAction","userData"],"sources":["C:/Users/rijul/Downloads/Alumni/Alumani/Client/src/store/actions/messageActions.js"],"sourcesContent":["import { requester } from '../../infrastructure';\nimport {\n    FETCH_ALLMESSAGES_SUCCESS, FETCH_ALLMESSAGES_BEGIN, FETCH_ALLMESSAGES_ERROR, ADD_MESSAGE,\n    FETCH_UNREADMESSAGES_SUCCESS, FETCH_UNREADMESSAGES_BEGIN, FETCH_UNREADMESSAGES_ERROR, LOAD_USER_MESSAGES,\n} from './actionTypes';\n\n// fetchAllMessages\nconst fetchAllMessagesSuccess = (allMessages) => {\n    return {\n        type: FETCH_ALLMESSAGES_SUCCESS,\n        payload: allMessages\n    }\n}\n\nconst fetchAllMessagesBegin = () => {\n    return {\n        type: FETCH_ALLMESSAGES_BEGIN,\n    }\n}\n\nconst fetchAllMessagesError = (error, message, status, path) => {\n    return {\n        type: FETCH_ALLMESSAGES_ERROR,\n        error,\n        message,\n        status,\n        path,\n    }\n}\n\nconst fetchAllMessagesAction = (chatUserId) => {\n    return (dispatch) => {\n        dispatch(fetchAllMessagesBegin())\n        return requester.get('/message/all/' + chatUserId, (response) => {\n            if (response.error) {\n                const { error, message, status, path } = response;\n                dispatch(fetchAllMessagesError(error, message, status, path));\n            } else {\n                dispatch(fetchAllMessagesSuccess(response));\n                dispatch(fetchAllUnreadMessagesAction());\n            }\n        }).catch(err => {\n            if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n                localStorage.clear();\n            }\n            dispatch(fetchAllMessagesError('', `Error: ${err.message}`, err.status, ''));\n        })\n    }\n}\n\nconst addMessageAction = (messageBody) => {\n    return {\n        type: ADD_MESSAGE,\n        payload: messageBody\n    }\n}\n\n// fetchAllUnreadMessages\nconst fetchAllUnreadMessagesSuccess = (allUnreadMessages) => {\n    return {\n        type: FETCH_UNREADMESSAGES_SUCCESS,\n        payload: allUnreadMessages\n    }\n}\n\nconst fetchAllUnreadMessagesBegin = () => {\n    return {\n        type: FETCH_UNREADMESSAGES_BEGIN,\n    }\n}\n\nconst fetchAllUnreadMessagesError = (error, message, status, path) => {\n    return {\n        type: FETCH_UNREADMESSAGES_ERROR,\n        error,\n        message,\n        status,\n        path,\n    }\n}\n\nconst fetchAllUnreadMessagesAction = () => {\n    return (dispatch) => {\n        dispatch(fetchAllUnreadMessagesBegin())\n        return requester.get('/message/friend', (response) => {\n            if (response.error) {\n                const { error, message, status, path } = response;\n                dispatch(fetchAllUnreadMessagesError(error, message, status, path));\n            } else {\n                dispatch(fetchAllUnreadMessagesSuccess(response));\n            }\n        }).catch(err => {\n            if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n                localStorage.clear();\n            }\n            dispatch(fetchAllUnreadMessagesError('', `Error: ${err.message}`, err.status, ''));\n        })\n    }\n}\n\n// LoadUserMessages and showUserChatBox\nconst triggerMessageLoadAction = (userData) => {\n    return {\n        type: LOAD_USER_MESSAGES,\n        payload: userData\n    }\n}\n\nexport { fetchAllMessagesAction, addMessageAction, fetchAllUnreadMessagesAction, triggerMessageLoadAction };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}