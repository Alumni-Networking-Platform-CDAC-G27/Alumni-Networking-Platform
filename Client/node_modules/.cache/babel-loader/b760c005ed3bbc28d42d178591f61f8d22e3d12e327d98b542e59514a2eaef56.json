{"ast":null,"code":"import React,{Component,Fragment}from'react';import{NavLink}from'react-router-dom';import{toast}from'react-toastify';import{ToastComponent}from'../common';import Friend from'./Friend';import'./css/UserFriends.css';import{connect}from'react-redux';import{changeCurrentTimeLineUserAction,changeAllFriendsAction,removeFriendAction}from'../../store/actions/userActions';import{changeAllPicturesAction}from'../../store/actions/pictureActions';class UserFriendsAllPage extends Component{constructor(props){super(props);this.removeFriend=(friendToRemoveId,event)=>{const loggedInUserId=this.props.loggedInUserData.id;this.props.deleteFriend(loggedInUserId,friendToRemoveId);};this.state={friendsArr:this.props.friendsArr,id:this.props.id};}componentDidMount(){const currentTimeLineUserId=this.props.match.params.id;if(currentTimeLineUserId!==this.props.timeLineUserData.id){this.props.changeTimeLineUser(currentTimeLineUserId);this.props.changeAllPictures(currentTimeLineUserId);this.props.changeAllFriends(currentTimeLineUserId);}}componentDidUpdate(prevProps,prevState){const errorMessage=this.getErrorMessage(prevProps);const successMessage=this.getSuccessMessage(prevProps);if(errorMessage){toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast,{text:errorMessage}),{position:toast.POSITION.TOP_RIGHT});}else if(successMessage){toast.success(/*#__PURE__*/React.createElement(ToastComponent.successToast,{text:successMessage}),{position:toast.POSITION.TOP_RIGHT});}}getSuccessMessage(prevProps){if(!this.props.removeFriend.hasError&&this.props.removeFriend.message&&this.props.removeFriend!==prevProps.removeFriend){return this.props.removeFriend.message;}return null;}getErrorMessage(prevProps){if(this.props.removeFriend.hasError&&prevProps.removeFriend.error!==this.props.removeFriend.error){return this.props.removeFriend.message||'Server Error';}return null;}render(){const isTheCurrentLoggedInUser=this.props.loggedInUserData.id===this.props.timeLineUserData.id;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"article\",{className:\"main-article-shared-content\"},/*#__PURE__*/React.createElement(\"section\",{className:\"friend-content-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container col-md-12 text-center mb-5\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center font-weight-bold mt-4\",style:{'margin':'1rem auto'}},\"Friends \"),/*#__PURE__*/React.createElement(\"div\",{className:\"hr-styles\"}),/*#__PURE__*/React.createElement(\"section\",{className:\"friend-section\"},this.props.friendsArr.length>0?this.props.friendsArr.map(friend=>isTheCurrentLoggedInUser?/*#__PURE__*/React.createElement(Friend,Object.assign({key:friend.id},friend,{firstButtonLink:`/home/profile/${friend.id}`,secondButtonLink:`/`,firstButtonText:'VIEW PROFILE',secondButtonText:'REMOVE',secondButtonOnClick:this.removeFriend})):/*#__PURE__*/React.createElement(Friend,Object.assign({key:friend.id},friend,{firstButtonLink:`/home/profile/${friend.id}`,secondButtonLink:`/home/comments/${this.props.loggedInUserData.id}`,firstButtonText:'VIEW PROFILE',secondButtonText:'HOME'}))):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"You don't have any friends. Find some!\"),isTheCurrentLoggedInUser?/*#__PURE__*/React.createElement(\"button\",{className:\"button view-activity\"},/*#__PURE__*/React.createElement(NavLink,{to:`/home/findFriends/${this.props.loggedInUserData.id}`},\"FIND FRIENDS\")):null,/*#__PURE__*/React.createElement(\"div\",{className:\"hr-styles\"})))))));}}const mapStateToProps=state=>{return{timeLineUserData:state.timeLineUserData,loggedInUserData:state.loggedInUserData,fetchAllLogs:state.fetchAllLogs,logsArr:state.fetchAllLogs.logsArr,friendsArr:state.fetchAllFriends.friendsArr,fetchAllFriends:state.fetchAllFriends,removeFriend:state.removeFriend};};const mapDispatchToProps=dispatch=>{return{changeTimeLineUser:userId=>{dispatch(changeCurrentTimeLineUserAction(userId));},changeAllFriends:userId=>{dispatch(changeAllFriendsAction(userId));},changeAllPictures:userId=>{dispatch(changeAllPicturesAction(userId));},deleteFriend:(loggedInUserId,friendToRemoveId)=>{dispatch(removeFriendAction(loggedInUserId,friendToRemoveId));}};};export default connect(mapStateToProps,mapDispatchToProps)(UserFriendsAllPage);","map":{"version":3,"names":["React","Component","Fragment","NavLink","toast","ToastComponent","Friend","connect","changeCurrentTimeLineUserAction","changeAllFriendsAction","removeFriendAction","changeAllPicturesAction","UserFriendsAllPage","constructor","props","removeFriend","friendToRemoveId","event","loggedInUserId","loggedInUserData","id","deleteFriend","state","friendsArr","componentDidMount","currentTimeLineUserId","match","params","timeLineUserData","changeTimeLineUser","changeAllPictures","changeAllFriends","componentDidUpdate","prevProps","prevState","errorMessage","getErrorMessage","successMessage","getSuccessMessage","error","createElement","errorToast","text","position","POSITION","TOP_RIGHT","success","successToast","hasError","message","render","isTheCurrentLoggedInUser","className","style","length","map","friend","Object","assign","key","firstButtonLink","secondButtonLink","firstButtonText","secondButtonText","secondButtonOnClick","to","mapStateToProps","fetchAllLogs","logsArr","fetchAllFriends","mapDispatchToProps","dispatch","userId"],"sources":["C:/Users/rijul/Downloads/Alumni/Alumani/Client/src/components/user/UserFriendsAllPage.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common';\nimport Friend from './Friend';\nimport './css/UserFriends.css';\n\nimport { connect } from 'react-redux';\nimport { changeCurrentTimeLineUserAction, changeAllFriendsAction, removeFriendAction } from '../../store/actions/userActions';\nimport { changeAllPicturesAction } from '../../store/actions/pictureActions';\n\nclass UserFriendsAllPage extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            friendsArr: this.props.friendsArr,\n            id: this.props.id,\n        };\n    }\n\n    componentDidMount() {\n        const currentTimeLineUserId = this.props.match.params.id;\n        if (currentTimeLineUserId !== this.props.timeLineUserData.id) {\n            this.props.changeTimeLineUser(currentTimeLineUserId);\n            this.props.changeAllPictures(currentTimeLineUserId);\n            this.props.changeAllFriends(currentTimeLineUserId);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const errorMessage = this.getErrorMessage(prevProps);\n        const successMessage = this.getSuccessMessage(prevProps)\n\n        if (errorMessage) {\n            toast.error(<ToastComponent.errorToast text={errorMessage} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n        } else if (successMessage) {\n            toast.success(<ToastComponent.successToast text={successMessage} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n        }\n    }\n\n    getSuccessMessage(prevProps) {\n        if (!this.props.removeFriend.hasError && this.props.removeFriend.message && this.props.removeFriend !== prevProps.removeFriend) {\n            return this.props.removeFriend.message;\n        }\n        return null;\n    }\n\n    getErrorMessage(prevProps) {\n        if (this.props.removeFriend.hasError && prevProps.removeFriend.error !== this.props.removeFriend.error) {\n            return this.props.removeFriend.message || 'Server Error';\n        }\n        return null;\n    }\n\n    removeFriend = (friendToRemoveId, event) => {\n        const loggedInUserId = this.props.loggedInUserData.id\n        this.props.deleteFriend(loggedInUserId, friendToRemoveId);\n    }\n\n    render() {\n        const isTheCurrentLoggedInUser = (this.props.loggedInUserData.id === this.props.timeLineUserData.id);\n\n        return (\n            <Fragment >\n                <article className=\"main-article-shared-content\">\n                    <section className=\"friend-content-section\">\n                        <div className=\"container col-md-12 text-center mb-5\">\n                            <h1 className=\"text-center font-weight-bold mt-4\" style={{ 'margin': '1rem auto' }}>Friends </h1>\n                            <div className=\"hr-styles\"></div>\n                            <section className=\"friend-section\" >\n                                {this.props.friendsArr.length > 0 ?\n                                    this.props.friendsArr.map((friend) =>\n                                        isTheCurrentLoggedInUser ?\n                                            <Friend\n                                                key={friend.id}\n                                                {...friend}\n                                                firstButtonLink={`/home/profile/${friend.id}`}\n                                                secondButtonLink={`/`}\n                                                firstButtonText={'VIEW PROFILE'}\n                                                secondButtonText={'REMOVE'}\n                                                secondButtonOnClick={this.removeFriend}\n                                            />\n                                            :\n                                            <Friend\n                                                key={friend.id}\n                                                {...friend}\n                                                firstButtonLink={`/home/profile/${friend.id}`}\n                                                secondButtonLink={`/home/comments/${this.props.loggedInUserData.id}`}\n                                                firstButtonText={'VIEW PROFILE'}\n                                                secondButtonText={'HOME'}\n                                            />)\n                                    :\n                                    (<Fragment>\n                                        <h2>You don't have any friends. Find some!</h2>\n                                        {\n                                            isTheCurrentLoggedInUser ?\n                                                (<button className=\"button view-activity\">\n                                                    <NavLink to={`/home/findFriends/${this.props.loggedInUserData.id}`}>FIND FRIENDS</NavLink>\n                                                </button>)\n                                                : null\n                                        }\n                                        <div className=\"hr-styles\"></div>\n                                    </Fragment>\n                                    )\n                                }\n                            </section>\n                        </div>\n                    </section>\n                </article>\n            </Fragment>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        timeLineUserData: state.timeLineUserData,\n        loggedInUserData: state.loggedInUserData,\n\n        fetchAllLogs: state.fetchAllLogs,\n        logsArr: state.fetchAllLogs.logsArr,\n\n        friendsArr: state.fetchAllFriends.friendsArr,\n        fetchAllFriends: state.fetchAllFriends,\n\n        removeFriend: state.removeFriend\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        changeTimeLineUser: (userId) => { dispatch(changeCurrentTimeLineUserAction(userId)) },\n        changeAllFriends: (userId) => { dispatch(changeAllFriendsAction(userId)) },\n        changeAllPictures: (userId) => { dispatch(changeAllPicturesAction(userId)) },\n        deleteFriend: (loggedInUserId, friendToRemoveId) => { dispatch(removeFriendAction(loggedInUserId, friendToRemoveId)) }\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserFriendsAllPage);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}