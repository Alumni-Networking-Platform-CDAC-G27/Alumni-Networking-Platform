{"ast":null,"code":"const BASE_URL = 'http://localhost:8080';\nconst getAuthHeader = () => {\n  const token = localStorage.getItem(\"token\");\n  return token && token.length ? {\n    'Authorization': `Bearer ${token}`\n  } : {};\n};\nexport default {\n  get: (endpoint, callback) => {\n    return fetch(BASE_URL + endpoint, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        ...getAuthHeader()\n      }\n    }).then(checkStatus)\n    // .then(data => data.json())\n    .then(callback);\n  },\n  post: (endpoint, data, callback) => {\n    return fetch(BASE_URL + endpoint, {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        ...getAuthHeader()\n      },\n      body: JSON.stringify(data)\n    }).then(checkStatus)\n    // .then(res => res.json())\n    .then(callback);\n  },\n  put: (endpoint, data, callback) => {\n    return fetch(BASE_URL + endpoint, {\n      method: 'PUT',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        ...getAuthHeader()\n      },\n      body: JSON.stringify(data)\n    }).then(checkStatus).then(callback);\n  },\n  delete: (endpoint, data, callback) => {\n    return fetch(BASE_URL + endpoint, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        ...getAuthHeader()\n      },\n      body: JSON.stringify(data)\n    }).then(checkStatus).then(callback);\n  },\n  update: data => {\n    return fetch(BASE_URL + '/users/update', {\n      method: 'put',\n      body: JSON.stringify(data),\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        ...getAuthHeader()\n      }\n    }).then(checkStatus).then(() => console.log('updated!!!'));\n    // .catch(err => {\n    //     console.log(err)\n    // })\n  },\n  addPhoto: (endpoint, data, callback) => {\n    return fetch(BASE_URL + endpoint, {\n      method: 'POST',\n      headers: {\n        ...getAuthHeader()\n      },\n      body: data\n    }).then(checkStatus).then(callback);\n  }\n};\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response.json();\n  } else {\n    var error = new Error(response.statusText);\n    if (response.status === 403 && response.url === BASE_URL + '/login') {\n      error.message = 'Incorrect credentials!';\n      error.response = response;\n      throw error;\n    } else if (response.status === 403 && response.type === 'cors') {\n      console.log('err response: ', response);\n      error.message = 'Your JWT token is expired. Please log in!';\n      error.status = 403;\n      error.type = 'cors';\n      throw error;\n    } else if (response.status === 400) {\n      console.log('err response: ', response);\n      error.message = 'Error: Bad request';\n      // error.message = response.message\n      error.status = 400;\n      error.type = 'cors';\n      throw error;\n    }\n    // else if (response.status === 500) {\n    //     console.log('err response: ', response)\n    //     error.message = 'Something went wrong'\n    //     error.status = 403;\n    //     error.type = 'cors'\n    //     throw error;\n    // }\n    else {\n      return response.json();\n    }\n  }\n}","map":{"version":3,"names":["BASE_URL","getAuthHeader","token","localStorage","getItem","length","get","endpoint","callback","fetch","method","headers","Accept","then","checkStatus","post","data","body","JSON","stringify","put","delete","update","console","log","addPhoto","response","status","json","error","Error","statusText","url","message","type"],"sources":["C:/Users/rijul/Downloads/Alumni/Alumani/Client/src/infrastructure/requester.js"],"sourcesContent":["const BASE_URL = 'http://localhost:8080';\n\nconst getAuthHeader = () => {\n    const token = localStorage.getItem(\"token\");\n\n    return (token && token.length)\n        ? { 'Authorization': `Bearer ${token}` }\n        : {}\n}\n\nexport default {\n    get: (endpoint, callback) => {\n        return fetch(BASE_URL + endpoint, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                ...getAuthHeader(),\n            },\n        }).then(checkStatus)\n            // .then(data => data.json())\n            .then(callback);\n    },\n\n    post: (endpoint, data, callback) => {\n        return fetch(BASE_URL + endpoint, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                ...getAuthHeader(),\n            },\n\n            body: JSON.stringify(data)\n        }).then(checkStatus)\n            // .then(res => res.json())\n            .then(callback);\n    },\n\n    put: (endpoint, data, callback) => {\n        return fetch(BASE_URL + endpoint, {\n            method: 'PUT',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                ...getAuthHeader(),\n            },\n            body: JSON.stringify(data)\n        }).then(checkStatus)\n            .then(callback);\n    },\n\n    delete: (endpoint, data, callback) => {\n        return fetch(BASE_URL + endpoint, {\n            method: 'DELETE',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                ...getAuthHeader(),\n            },\n            body: JSON.stringify(data)\n        }).then(checkStatus)\n            .then(callback)\n    },\n\n    update: (data) => {\n        return fetch(BASE_URL + '/users/update', {\n            method: 'put',\n            body: JSON.stringify(data),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                ...getAuthHeader(),\n            }\n        }).then(checkStatus)\n            .then(() => console.log('updated!!!'))\n        // .catch(err => {\n        //     console.log(err)\n        // })\n\n    },\n\n    addPhoto: (endpoint, data, callback) => {\n        return fetch(BASE_URL + endpoint, {\n            method: 'POST',\n            headers: {\n                ...getAuthHeader()\n            },\n            body: data\n        }).then(checkStatus)\n            .then(callback)\n    }\n}\n\nfunction checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n        return response.json()\n    } else {\n        var error = new Error(response.statusText);\n        if (response.status === 403 && response.url === (BASE_URL + '/login')) {\n            error.message = 'Incorrect credentials!';\n            error.response = response;\n            throw error;\n        } else if (response.status === 403 && response.type === 'cors') {\n            console.log('err response: ', response)\n            error.message = 'Your JWT token is expired. Please log in!'\n            error.status = 403;\n            error.type = 'cors'\n            throw error;\n        } else if (response.status === 400) {\n            console.log('err response: ', response)\n            error.message = 'Error: Bad request'\n            // error.message = response.message\n            error.status = 400;\n            error.type = 'cors'\n            throw error;\n        }\n        // else if (response.status === 500) {\n        //     console.log('err response: ', response)\n        //     error.message = 'Something went wrong'\n        //     error.status = 403;\n        //     error.type = 'cors'\n        //     throw error;\n        // }\n        else {\n            return response.json();\n        }\n    }\n}"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,uBAAuB;AAExC,MAAMC,aAAa,GAAGA,CAAA,KAAM;EACxB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAE3C,OAAQF,KAAK,IAAIA,KAAK,CAACG,MAAM,GACvB;IAAE,eAAe,EAAE,UAAUH,KAAK;EAAG,CAAC,GACtC,CAAC,CAAC;AACZ,CAAC;AAED,eAAe;EACXI,GAAG,EAAEA,CAACC,QAAQ,EAAEC,QAAQ,KAAK;IACzB,OAAOC,KAAK,CAACT,QAAQ,GAAGO,QAAQ,EAAE;MAC9BG,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,GAAGX,aAAa,CAAC;MACrB;IACJ,CAAC,CAAC,CAACY,IAAI,CAACC,WAAW;IACf;IAAA,CACCD,IAAI,CAACL,QAAQ,CAAC;EACvB,CAAC;EAEDO,IAAI,EAAEA,CAACR,QAAQ,EAAES,IAAI,EAAER,QAAQ,KAAK;IAChC,OAAOC,KAAK,CAACT,QAAQ,GAAGO,QAAQ,EAAE;MAC9BG,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE,kBAAkB;QAClC,GAAGX,aAAa,CAAC;MACrB,CAAC;MAEDgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI;IAC7B,CAAC,CAAC,CAACH,IAAI,CAACC,WAAW;IACf;IAAA,CACCD,IAAI,CAACL,QAAQ,CAAC;EACvB,CAAC;EAEDY,GAAG,EAAEA,CAACb,QAAQ,EAAES,IAAI,EAAER,QAAQ,KAAK;IAC/B,OAAOC,KAAK,CAACT,QAAQ,GAAGO,QAAQ,EAAE;MAC9BG,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE,kBAAkB;QAClC,GAAGX,aAAa,CAAC;MACrB,CAAC;MACDgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI;IAC7B,CAAC,CAAC,CAACH,IAAI,CAACC,WAAW,CAAC,CACfD,IAAI,CAACL,QAAQ,CAAC;EACvB,CAAC;EAEDa,MAAM,EAAEA,CAACd,QAAQ,EAAES,IAAI,EAAER,QAAQ,KAAK;IAClC,OAAOC,KAAK,CAACT,QAAQ,GAAGO,QAAQ,EAAE;MAC9BG,MAAM,EAAE,QAAQ;MAChBC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE,kBAAkB;QAClC,GAAGX,aAAa,CAAC;MACrB,CAAC;MACDgB,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI;IAC7B,CAAC,CAAC,CAACH,IAAI,CAACC,WAAW,CAAC,CACfD,IAAI,CAACL,QAAQ,CAAC;EACvB,CAAC;EAEDc,MAAM,EAAGN,IAAI,IAAK;IACd,OAAOP,KAAK,CAACT,QAAQ,GAAG,eAAe,EAAE;MACrCU,MAAM,EAAE,KAAK;MACbO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;MAC1BL,OAAO,EAAE;QACL,QAAQ,EAAE,kBAAkB;QAC5B,cAAc,EAAE,kBAAkB;QAClC,GAAGV,aAAa,CAAC;MACrB;IACJ,CAAC,CAAC,CAACY,IAAI,CAACC,WAAW,CAAC,CACfD,IAAI,CAAC,MAAMU,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC1C;IACA;IACA;EAEJ,CAAC;EAEDC,QAAQ,EAAEA,CAAClB,QAAQ,EAAES,IAAI,EAAER,QAAQ,KAAK;IACpC,OAAOC,KAAK,CAACT,QAAQ,GAAGO,QAAQ,EAAE;MAC9BG,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,GAAGV,aAAa,CAAC;MACrB,CAAC;MACDgB,IAAI,EAAED;IACV,CAAC,CAAC,CAACH,IAAI,CAACC,WAAW,CAAC,CACfD,IAAI,CAACL,QAAQ,CAAC;EACvB;AACJ,CAAC;AAED,SAASM,WAAWA,CAACY,QAAQ,EAAE;EAC3B,IAAIA,QAAQ,CAACC,MAAM,IAAI,GAAG,IAAID,QAAQ,CAACC,MAAM,GAAG,GAAG,EAAE;IACjD,OAAOD,QAAQ,CAACE,IAAI,CAAC,CAAC;EAC1B,CAAC,MAAM;IACH,IAAIC,KAAK,GAAG,IAAIC,KAAK,CAACJ,QAAQ,CAACK,UAAU,CAAC;IAC1C,IAAIL,QAAQ,CAACC,MAAM,KAAK,GAAG,IAAID,QAAQ,CAACM,GAAG,KAAMhC,QAAQ,GAAG,QAAS,EAAE;MACnE6B,KAAK,CAACI,OAAO,GAAG,wBAAwB;MACxCJ,KAAK,CAACH,QAAQ,GAAGA,QAAQ;MACzB,MAAMG,KAAK;IACf,CAAC,MAAM,IAAIH,QAAQ,CAACC,MAAM,KAAK,GAAG,IAAID,QAAQ,CAACQ,IAAI,KAAK,MAAM,EAAE;MAC5DX,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEE,QAAQ,CAAC;MACvCG,KAAK,CAACI,OAAO,GAAG,2CAA2C;MAC3DJ,KAAK,CAACF,MAAM,GAAG,GAAG;MAClBE,KAAK,CAACK,IAAI,GAAG,MAAM;MACnB,MAAML,KAAK;IACf,CAAC,MAAM,IAAIH,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MAChCJ,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEE,QAAQ,CAAC;MACvCG,KAAK,CAACI,OAAO,GAAG,oBAAoB;MACpC;MACAJ,KAAK,CAACF,MAAM,GAAG,GAAG;MAClBE,KAAK,CAACK,IAAI,GAAG,MAAM;MACnB,MAAML,KAAK;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAAA,KACK;MACD,OAAOH,QAAQ,CAACE,IAAI,CAAC,CAAC;IAC1B;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}