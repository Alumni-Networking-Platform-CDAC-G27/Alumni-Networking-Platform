{"ast":null,"code":"import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nvar CLEARED = null;\nvar nullListeners = {\n  notify: function notify() {}\n};\nfunction createListenerCollection() {\n  var batch = getBatch(); // the current/next pattern is copied from redux's createStore code.\n  // TODO: refactor+expose that code to be reusable here?\n\n  var current = [];\n  var next = [];\n  return {\n    clear: function clear() {\n      next = CLEARED;\n      current = CLEARED;\n    },\n    notify: function notify() {\n      var listeners = current = next;\n      batch(function () {\n        for (var i = 0; i < listeners.length; i++) {\n          listeners[i]();\n        }\n      });\n    },\n    get: function get() {\n      return next;\n    },\n    subscribe: function subscribe(listener) {\n      var isSubscribed = true;\n      if (next === current) next = current.slice();\n      next.push(listener);\n      return function unsubscribe() {\n        if (!isSubscribed || current === CLEARED) return;\n        isSubscribed = false;\n        if (next === current) next = current.slice();\n        next.splice(next.indexOf(listener), 1);\n      };\n    }\n  };\n}\nvar Subscription = /*#__PURE__*/\nfunction () {\n  function Subscription(store, parentSub) {\n    this.store = store;\n    this.parentSub = parentSub;\n    this.unsubscribe = null;\n    this.listeners = nullListeners;\n    this.handleChangeWrapper = this.handleChangeWrapper.bind(this);\n  }\n  var _proto = Subscription.prototype;\n  _proto.addNestedSub = function addNestedSub(listener) {\n    this.trySubscribe();\n    return this.listeners.subscribe(listener);\n  };\n  _proto.notifyNestedSubs = function notifyNestedSubs() {\n    this.listeners.notify();\n  };\n  _proto.handleChangeWrapper = function handleChangeWrapper() {\n    if (this.onStateChange) {\n      this.onStateChange();\n    }\n  };\n  _proto.isSubscribed = function isSubscribed() {\n    return Boolean(this.unsubscribe);\n  };\n  _proto.trySubscribe = function trySubscribe() {\n    if (!this.unsubscribe) {\n      this.unsubscribe = this.parentSub ? this.parentSub.addNestedSub(this.handleChangeWrapper) : this.store.subscribe(this.handleChangeWrapper);\n      this.listeners = createListenerCollection();\n    }\n  };\n  _proto.tryUnsubscribe = function tryUnsubscribe() {\n    if (this.unsubscribe) {\n      this.unsubscribe();\n      this.unsubscribe = null;\n      this.listeners.clear();\n      this.listeners = nullListeners;\n    }\n  };\n  return Subscription;\n}();\nexport { Subscription as default };","map":{"version":3,"names":["getBatch","CLEARED","nullListeners","notify","createListenerCollection","batch","current","next","clear","listeners","i","length","get","subscribe","listener","isSubscribed","slice","push","unsubscribe","splice","indexOf","Subscription","store","parentSub","handleChangeWrapper","bind","_proto","prototype","addNestedSub","trySubscribe","notifyNestedSubs","onStateChange","Boolean","tryUnsubscribe","default"],"sources":["C:/Users/Administrator/Documents/0011_Final_PROJECT/Alumni-Networking-Platform/Client/node_modules/react-redux/es/utils/Subscription.js"],"sourcesContent":["import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\r\n// well as nesting subscriptions of descendant components, so that we can ensure the\r\n// ancestor components re-render before descendants\r\n\r\nvar CLEARED = null;\r\nvar nullListeners = {\r\n  notify: function notify() {}\r\n};\r\n\r\nfunction createListenerCollection() {\r\n  var batch = getBatch(); // the current/next pattern is copied from redux's createStore code.\r\n  // TODO: refactor+expose that code to be reusable here?\r\n\r\n  var current = [];\r\n  var next = [];\r\n  return {\r\n    clear: function clear() {\r\n      next = CLEARED;\r\n      current = CLEARED;\r\n    },\r\n    notify: function notify() {\r\n      var listeners = current = next;\r\n      batch(function () {\r\n        for (var i = 0; i < listeners.length; i++) {\r\n          listeners[i]();\r\n        }\r\n      });\r\n    },\r\n    get: function get() {\r\n      return next;\r\n    },\r\n    subscribe: function subscribe(listener) {\r\n      var isSubscribed = true;\r\n      if (next === current) next = current.slice();\r\n      next.push(listener);\r\n      return function unsubscribe() {\r\n        if (!isSubscribed || current === CLEARED) return;\r\n        isSubscribed = false;\r\n        if (next === current) next = current.slice();\r\n        next.splice(next.indexOf(listener), 1);\r\n      };\r\n    }\r\n  };\r\n}\r\n\r\nvar Subscription =\r\n/*#__PURE__*/\r\nfunction () {\r\n  function Subscription(store, parentSub) {\r\n    this.store = store;\r\n    this.parentSub = parentSub;\r\n    this.unsubscribe = null;\r\n    this.listeners = nullListeners;\r\n    this.handleChangeWrapper = this.handleChangeWrapper.bind(this);\r\n  }\r\n\r\n  var _proto = Subscription.prototype;\r\n\r\n  _proto.addNestedSub = function addNestedSub(listener) {\r\n    this.trySubscribe();\r\n    return this.listeners.subscribe(listener);\r\n  };\r\n\r\n  _proto.notifyNestedSubs = function notifyNestedSubs() {\r\n    this.listeners.notify();\r\n  };\r\n\r\n  _proto.handleChangeWrapper = function handleChangeWrapper() {\r\n    if (this.onStateChange) {\r\n      this.onStateChange();\r\n    }\r\n  };\r\n\r\n  _proto.isSubscribed = function isSubscribed() {\r\n    return Boolean(this.unsubscribe);\r\n  };\r\n\r\n  _proto.trySubscribe = function trySubscribe() {\r\n    if (!this.unsubscribe) {\r\n      this.unsubscribe = this.parentSub ? this.parentSub.addNestedSub(this.handleChangeWrapper) : this.store.subscribe(this.handleChangeWrapper);\r\n      this.listeners = createListenerCollection();\r\n    }\r\n  };\r\n\r\n  _proto.tryUnsubscribe = function tryUnsubscribe() {\r\n    if (this.unsubscribe) {\r\n      this.unsubscribe();\r\n      this.unsubscribe = null;\r\n      this.listeners.clear();\r\n      this.listeners = nullListeners;\r\n    }\r\n  };\r\n\r\n  return Subscription;\r\n}();\r\n\r\nexport { Subscription as default };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}