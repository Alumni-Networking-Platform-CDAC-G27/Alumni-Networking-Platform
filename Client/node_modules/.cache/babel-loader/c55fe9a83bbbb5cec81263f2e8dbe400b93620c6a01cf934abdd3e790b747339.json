{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\0011_Final_PROJECT\\\\Alumni-Networking-Platform\\\\Client\\\\src\\\\components\\\\home\\\\WritePost.js\";\nimport React, { Fragment, Component } from 'react';\nimport { userService } from '../../infrastructure';\nimport TextareaAutosize from 'react-autosize-textarea';\nexport default class WritePost extends Component {\n  constructor(props) {\n    super(props);\n    this.changeUserData = userdata => {\n      this.setState({\n        loggedInUserProfilePicUrl: userdata.profilePicUrl\n      });\n    };\n    this.handleBlur = field => event => {\n      this.setState({\n        touched: {\n          ...this.state.touched,\n          [field]: true\n        }\n      });\n    };\n    this.validate = content => {\n      return {\n        content: content.length === 0\n      };\n    };\n    this.state = {\n      content: '',\n      imageUrl: '',\n      createPostData: '',\n      touched: {\n        content: false\n      }\n    };\n    this.handleBlur = this.handleBlur.bind(this);\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.onSubmitHandler = this.onSubmitHandler.bind(this);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const loading = this.props.createPostData.loading || this.props.loadingAllPosts;\n    if (!loading && this.state.createPostData !== this.props.createPostData) {\n      this.setState({\n        content: '',\n        imageUrl: '',\n        createPostData: this.props.createPostData\n      });\n    }\n  }\n  onSubmitHandler(event) {\n    event.preventDefault();\n    if (!this.canBeSubmitted()) {\n      return;\n    }\n    const {\n      content,\n      imageUrl\n    } = this.state;\n    this.props.createPost(content, imageUrl);\n  }\n  onChangeHandler(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n  canBeSubmitted() {\n    const {\n      content\n    } = this.state;\n    const errors = this.validate(content);\n    const isDisabled = Object.keys(errors).some(x => errors[x]);\n    return !isDisabled;\n  }\n  render() {\n    const {\n      content\n    } = this.state;\n    const errors = this.validate(content);\n    const isEnabled = !Object.keys(errors).some(x => errors[x]);\n    const displayButon = isEnabled ? '' : 'hidden';\n    const imageClass = userService.getImageSize(this.props.loggedInUser.profilePicUrl);\n    const loggedInUserProfilePicUrl = this.props.loggedInUser.profilePicUrl;\n    const loggedInUserFirstName = this.props.loggedInUser.firstName;\n    let formattedUsername = userService.formatUsername(loggedInUserFirstName);\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"posts-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"write-post\",\n      id: \"create-post-button-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: imageClass,\n      src: loggedInUserProfilePicUrl,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-area-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"post-form\",\n      onSubmit: this.onSubmitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      id: \"post-textarea-form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(TextareaAutosize, {\n      name: \"content\",\n      id: \"content\",\n      className: \"post-textarea\",\n      value: this.state.content,\n      onChange: this.onChangeHandler,\n      onBlur: this.handleBlur('content'),\n      \"aria-describedby\": \"contentHelp\",\n      placeholder: `What's on your mind, ${formattedUsername}?`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: !isEnabled,\n      style: {\n        'visibility': `${displayButon}`\n      },\n      type: \"submit\",\n      className: \"btn uiButtonGroup post-button-fbPhotoCurationControl App-button-primary \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 41\n      }\n    }, \"POST\"))))))));\n  }\n}","map":{"version":3,"names":["React","Fragment","Component","userService","TextareaAutosize","WritePost","constructor","props","changeUserData","userdata","setState","loggedInUserProfilePicUrl","profilePicUrl","handleBlur","field","event","touched","state","validate","content","length","imageUrl","createPostData","bind","onChangeHandler","onSubmitHandler","componentDidUpdate","prevProps","prevState","loading","loadingAllPosts","preventDefault","canBeSubmitted","createPost","target","name","value","errors","isDisabled","Object","keys","some","x","render","isEnabled","displayButon","imageClass","getImageSize","loggedInUser","loggedInUserFirstName","firstName","formattedUsername","formatUsername","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","id","src","alt","onSubmit","onChange","onBlur","placeholder","disabled","style","type"],"sources":["C:/Users/Administrator/Documents/0011_Final_PROJECT/Alumni-Networking-Platform/Client/src/components/home/WritePost.js"],"sourcesContent":["import React, { Fragment, Component } from 'react';\r\nimport { userService } from '../../infrastructure';\r\nimport TextareaAutosize from 'react-autosize-textarea';\r\n\r\nexport default class WritePost extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            content: '',\r\n            imageUrl: '',\r\n            createPostData: '',\r\n            touched: {\r\n                content: false,\r\n            }\r\n        };\r\n\r\n        this.handleBlur = this.handleBlur.bind(this);\r\n        this.onChangeHandler = this.onChangeHandler.bind(this);\r\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const loading = this.props.createPostData.loading || this.props.loadingAllPosts;\r\n\r\n        if (!loading && this.state.createPostData !== this.props.createPostData) {\r\n            this.setState({\r\n                content: '',\r\n                imageUrl: '',\r\n                createPostData: this.props.createPostData,\r\n            })\r\n        }\r\n    }\r\n\r\n    changeUserData = (userdata) => {\r\n        this.setState({loggedInUserProfilePicUrl: userdata.profilePicUrl})\r\n    }\r\n\r\n    onSubmitHandler(event) {\r\n        event.preventDefault();\r\n        if (!this.canBeSubmitted()) {\r\n            return;\r\n        }\r\n\r\n        const { content, imageUrl } = this.state;\r\n        this.props.createPost(content, imageUrl);\r\n    }\r\n\r\n    onChangeHandler(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    handleBlur = (field) => (event) => {\r\n        this.setState({\r\n            touched: { ...this.state.touched, [field]: true }\r\n        });\r\n    }\r\n\r\n    canBeSubmitted() {\r\n        const { content } = this.state;\r\n        const errors = this.validate(content);\r\n        const isDisabled = Object.keys(errors).some(x => errors[x])\r\n        return !isDisabled;\r\n    }\r\n\r\n    validate = (content) => {\r\n        return {\r\n            content: content.length === 0,\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { content } = this.state;\r\n        const errors = this.validate(content);\r\n        const isEnabled = !Object.keys(errors).some(x => errors[x]);\r\n        const displayButon = isEnabled ? '' : 'hidden';\r\n\r\n        const imageClass = userService.getImageSize(this.props.loggedInUser.profilePicUrl);\r\n        const loggedInUserProfilePicUrl = this.props.loggedInUser.profilePicUrl;\r\n        const loggedInUserFirstName = this.props.loggedInUser.firstName;\r\n\r\n        let formattedUsername = userService.formatUsername(loggedInUserFirstName)\r\n\r\n        return (\r\n            <Fragment>\r\n                <section className=\"posts-section\">\r\n                    <div className=\"write-post\" id=\"create-post-button-container\">\r\n                        <div className=\"post\">\r\n                            <div className=\"post-image\">\r\n                                <img className={imageClass} src={loggedInUserProfilePicUrl} alt=\"\" />\r\n                            </div>\r\n                            <div className=\"post-area-container\">\r\n                                <form id=\"post-form\" onSubmit={this.onSubmitHandler}>\r\n                                    <div className=\"\" id=\"post-textarea-form-group\">\r\n                                        <TextareaAutosize\r\n                                            name=\"content\"\r\n                                            id=\"content\"\r\n                                            className=\"post-textarea\"\r\n                                            value={this.state.content}\r\n                                            onChange={this.onChangeHandler}\r\n                                            onBlur={this.handleBlur('content')}\r\n                                            aria-describedby=\"contentHelp\"\r\n                                            placeholder={`What's on your mind, ${formattedUsername}?`}\r\n                                        >\r\n                                        </TextareaAutosize>\r\n                                    </div>\r\n\r\n                                    <div className=\"text-center\">\r\n                                        <button disabled={!isEnabled} style={{ 'visibility': `${displayButon}` }} type=\"submit\" className=\"btn uiButtonGroup post-button-fbPhotoCurationControl App-button-primary \">POST</button>\r\n                                    </div>\r\n\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}