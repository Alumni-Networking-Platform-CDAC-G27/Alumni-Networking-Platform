{"ast":null,"code":"import React,{Component,Fragment,lazy,Suspense}from'react';import{Route,Switch,withRouter}from'react-router-dom';import{Footer}from'./components/common';import Navbar from'./components/home/NavBar';import{ToastComponent}from'./components/common';import{userService}from'./infrastructure';import{ToastContainer,toast,Zoom}from'react-toastify';import'react-toastify/dist/ReactToastify.min.css';import'./styles/App.css';import{css}from'@emotion/core';import{CircleLoader}from'react-spinners';import{connect}from'react-redux';import{logoutAction}from'./store/actions/authActions';const StartPage=/*#__PURE__*/lazy(()=>import('./components/auth/StartPage'));const RegisterPage=/*#__PURE__*/lazy(()=>import('./components/auth/RegisterPage'));const LoginPage=/*#__PURE__*/lazy(()=>import('./components/auth/LoginPage'));const HomePage=/*#__PURE__*/lazy(()=>import('./components/home/HomePage'));const ErrorPage=/*#__PURE__*/lazy(()=>import('./components/common/ErrorPage'));const override=css`\n        display: block;\n        margin: 8rem auto;\n        border-color: red;\n`;class App extends Component{constructor(props){super(props);this.onLogout=this.onLogout.bind(this);}onLogout(){this.props.logout();toast.success(/*#__PURE__*/React.createElement(ToastComponent.successToast,{text:`You have been successfully logged out.`}),{position:toast.POSITION.TOP_RIGHT});this.props.history.push('/login');}render(){const loggedIn=userService.isTheUserLoggedIn();return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Navbar,Object.assign({loggedIn:localStorage.getItem('token')!=null,onLogout:this.onLogout},this.props)),/*#__PURE__*/React.createElement(ToastContainer,{transition:Zoom,closeButton:false}),/*#__PURE__*/React.createElement(Suspense,{fallback:/*#__PURE__*/React.createElement(\"div\",{className:\"sweet-loading\"},/*#__PURE__*/React.createElement(CircleLoader,{css:override,sizeUnit:\"px\",size:150,color:'#61dafb',loading:true}))},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:StartPage}),!loggedIn&&/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/register\",component:RegisterPage}),!loggedIn&&/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",component:LoginPage}),loggedIn&&/*#__PURE__*/React.createElement(Route,{path:\"/home\",component:HomePage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/error\",component:ErrorPage}),/*#__PURE__*/React.createElement(Route,{component:ErrorPage}))),/*#__PURE__*/React.createElement(Footer,null));}}function mapDispatchToProps(dispatch){return{logout:()=>dispatch(logoutAction())};}export default withRouter(connect(null,mapDispatchToProps)(App));","map":{"version":3,"names":["React","Component","Fragment","lazy","Suspense","Route","Switch","withRouter","Footer","Navbar","ToastComponent","userService","ToastContainer","toast","Zoom","css","CircleLoader","connect","logoutAction","StartPage","RegisterPage","LoginPage","HomePage","ErrorPage","override","App","constructor","props","onLogout","bind","logout","success","createElement","successToast","text","position","POSITION","TOP_RIGHT","history","push","render","loggedIn","isTheUserLoggedIn","Object","assign","localStorage","getItem","transition","closeButton","fallback","className","sizeUnit","size","color","loading","exact","path","component","mapDispatchToProps","dispatch"],"sources":["C:/Users/rijul/Downloads/Alumni/Alumani/Client/src/App.js"],"sourcesContent":["import React, { Component, Fragment, lazy, Suspense } from 'react';\nimport { Route, Switch, withRouter } from 'react-router-dom';\n\nimport { Footer } from './components/common';\nimport Navbar from './components/home/NavBar';\nimport { ToastComponent } from './components/common'\nimport { userService } from './infrastructure';\nimport { ToastContainer, toast, Zoom } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css'\nimport './styles/App.css';\nimport { css } from '@emotion/core';\nimport { CircleLoader } from 'react-spinners';\n\nimport { connect } from 'react-redux';\nimport { logoutAction } from './store/actions/authActions';\n\nconst StartPage = lazy(() => import('./components/auth/StartPage'))\nconst RegisterPage = lazy(() => import('./components/auth/RegisterPage'))\nconst LoginPage = lazy(() => import('./components/auth/LoginPage'))\nconst HomePage = lazy(() => import('./components/home/HomePage'))\nconst ErrorPage = lazy(() => import('./components/common/ErrorPage'))\n\nconst override = css`\n        display: block;\n        margin: 8rem auto;\n        border-color: red;\n`;\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.onLogout = this.onLogout.bind(this);\n  }\n\n  onLogout() {\n    this.props.logout();\n\n    toast.success(<ToastComponent.successToast text={`You have been successfully logged out.`} />, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n\n    this.props.history.push('/login');\n  }\n\n  render() {\n    const loggedIn = userService.isTheUserLoggedIn();\n\n    return (\n      <Fragment>\n        <Navbar loggedIn={localStorage.getItem('token') != null} onLogout={this.onLogout} {...this.props} />\n        <ToastContainer transition={Zoom} closeButton={false} />\n        <Suspense fallback={\n          <div className='sweet-loading'>\n            <CircleLoader\n              css={override}\n              sizeUnit={\"px\"}\n              size={150}\n              color={'#61dafb'}\n              loading={true}\n            />\n          </div>}>\n          <Switch>\n            <Route exact path=\"/\" component={StartPage} />\n            {!loggedIn && <Route exact path=\"/register\" component={RegisterPage} />}\n            {!loggedIn && <Route exact path=\"/login\" component={LoginPage} />}\n            {loggedIn && <Route path=\"/home\" component={HomePage} />}\n            <Route exact path=\"/error\" component={ErrorPage} />\n            <Route component={ErrorPage} />\n          </Switch>\n        </Suspense>\n        <Footer />\n      </Fragment>\n    )\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    logout: () => dispatch(logoutAction()),\n  }\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(App));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}