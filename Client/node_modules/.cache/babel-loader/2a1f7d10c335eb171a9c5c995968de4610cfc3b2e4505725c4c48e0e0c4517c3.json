{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rijul\\\\Downloads\\\\Alumni\\\\Alumani\\\\Client\\\\src\\\\components\\\\home\\\\WriteComment.js\";\nimport React, { Fragment, Component } from 'react';\nimport { userService } from '../../infrastructure';\nimport TextareaAutosize from 'react-autosize-textarea';\nexport default class WriteComment extends Component {\n  constructor(props) {\n    super(props);\n    this.handleBlur = field => event => {\n      this.setState({\n        touched: {\n          ...this.state.touched,\n          [field]: true\n        }\n      });\n    };\n    this.validate = content => {\n      return {\n        content: content.length === 0\n      };\n    };\n    this.state = {\n      content: '',\n      imageUrl: '',\n      createCommentData: '',\n      touched: {\n        content: false\n      }\n    };\n    this.handleBlur = this.handleBlur.bind(this);\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.onSubmitHandler = this.onSubmitHandler.bind(this);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const loading = this.props.createCommentData.loading || this.props.loadingAllPosts;\n    if (!loading && this.state.createCommentData !== this.props.createCommentData) {\n      this.setState({\n        content: '',\n        imageUrl: '',\n        createCommentData: this.props.createCommentData\n      });\n    }\n  }\n  onSubmitHandler(event) {\n    event.preventDefault();\n    if (!this.canBeSubmitted()) {\n      return;\n    }\n    const postId = this.props.postId;\n    const {\n      content,\n      imageUrl\n    } = this.state;\n    this.props.createComment(postId, content, imageUrl);\n  }\n  onChangeHandler(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n  canBeSubmitted() {\n    const {\n      content\n    } = this.state;\n    const errors = this.validate(content);\n    const isDisabled = Object.keys(errors).some(x => errors[x]);\n    return !isDisabled;\n  }\n  render() {\n    const {\n      content\n    } = this.state;\n    const errors = this.validate(content);\n    const isEnabled = !Object.keys(errors).some(x => errors[x]);\n    const displayButon = isEnabled ? '' : 'hidden';\n    const loggedInUserProfilePicUrl = this.props.loggedInUser.profilePicUrl;\n    const imageClass = userService.getImageSize(loggedInUserProfilePicUrl);\n    const loggedInUserFirstName = this.props.loggedInUser.firstName;\n    const formattedName = userService.formatUsername(loggedInUserFirstName);\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"comment-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"write-comment\",\n      id: \"create-comment-button-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: imageClass,\n      src: loggedInUserProfilePicUrl,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-area-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"\",\n      onSubmit: this.onSubmitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      id: \"post-textarea-form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(TextareaAutosize, {\n      name: \"content\",\n      id: \"content\",\n      className: \"post-textarea\",\n      value: this.state.content,\n      onChange: this.onChangeHandler,\n      onBlur: this.handleBlur('content'),\n      \"aria-describedby\": \"contentHelp\",\n      placeholder: `Write a comment, ${formattedName}!`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: !isEnabled,\n      style: {\n        'visibility': `${displayButon}`\n      },\n      type: \"submit\",\n      className: \"btn uiButtonGroup post-button-fbPhotoCurationControl App-button-primary \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 41\n      }\n    }, \"POST\"))))))));\n  }\n}","map":{"version":3,"names":["React","Fragment","Component","userService","TextareaAutosize","WriteComment","constructor","props","handleBlur","field","event","setState","touched","state","validate","content","length","imageUrl","createCommentData","bind","onChangeHandler","onSubmitHandler","componentDidUpdate","prevProps","prevState","loading","loadingAllPosts","preventDefault","canBeSubmitted","postId","createComment","target","name","value","errors","isDisabled","Object","keys","some","x","render","isEnabled","displayButon","loggedInUserProfilePicUrl","loggedInUser","profilePicUrl","imageClass","getImageSize","loggedInUserFirstName","firstName","formattedName","formatUsername","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","id","src","alt","onSubmit","onChange","onBlur","placeholder","disabled","style","type"],"sources":["C:/Users/rijul/Downloads/Alumni/Alumani/Client/src/components/home/WriteComment.js"],"sourcesContent":["import React, { Fragment, Component } from 'react';\nimport { userService} from '../../infrastructure';\nimport TextareaAutosize from 'react-autosize-textarea';\n\nexport default class WriteComment extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            content: '',\n            imageUrl: '',\n            createCommentData: '',\n            touched: {\n                content: false,\n            }\n        };\n\n        this.handleBlur = this.handleBlur.bind(this);\n        this.onChangeHandler = this.onChangeHandler.bind(this);\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const loading = this.props.createCommentData.loading || this.props.loadingAllPosts;\n\n        if (!loading && this.state.createCommentData !== this.props.createCommentData) {\n            this.setState({\n                content: '',\n                imageUrl: '',\n                createCommentData: this.props.createCommentData,\n            })\n        }\n    }\n\n    onSubmitHandler(event) {\n        event.preventDefault();\n\n        if (!this.canBeSubmitted()) {\n            return;\n        }\n        const postId = this.props.postId;\n        const { content, imageUrl } = this.state;\n\n        this.props.createComment(postId, content, imageUrl )\n    }\n\n    onChangeHandler(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    }\n\n    handleBlur = (field) => (event) => {\n        this.setState({\n            touched: { ...this.state.touched, [field]: true }\n        });\n    }\n\n    canBeSubmitted() {\n        const { content } = this.state;\n        const errors = this.validate(content);\n        const isDisabled = Object.keys(errors).some(x => errors[x])\n        return !isDisabled;\n    }\n\n    validate = (content) => {\n        return {\n            content: content.length === 0,\n        }\n    }\n\n    render() {\n        const { content } = this.state;\n        const errors = this.validate(content);\n        const isEnabled = !Object.keys(errors).some(x => errors[x]);\n        const displayButon = isEnabled ? '' : 'hidden';\n\n        const loggedInUserProfilePicUrl = this.props.loggedInUser.profilePicUrl;\n        const imageClass = userService.getImageSize(loggedInUserProfilePicUrl);\n        const loggedInUserFirstName = this.props.loggedInUser.firstName;\n        const formattedName = userService.formatUsername(loggedInUserFirstName);\n\n        return (\n            <Fragment>\n                <section className=\"comment-section\">\n                    <div className=\"write-comment\" id=\"create-comment-button-container\">\n                        <div className=\"post\">\n                            <div className=\"post-image\">\n                                <img className={imageClass} src={loggedInUserProfilePicUrl} alt=\"\" />\n                            </div>\n                            <div className=\"post-area-container\">\n                                <form className=\"\" onSubmit={this.onSubmitHandler}>\n                                    <div className=\"\" id=\"post-textarea-form-group\">\n                                        <TextareaAutosize\n                                            name=\"content\"\n                                            id=\"content\"\n                                            className=\"post-textarea\"\n                                            value={this.state.content}\n                                            onChange={this.onChangeHandler}\n                                            onBlur={this.handleBlur('content')}\n                                            aria-describedby=\"contentHelp\"\n                                            placeholder={`Write a comment, ${formattedName}!`}\n                                        >\n                                        </TextareaAutosize>\n                                    </div>\n\n                                    <div className=\"text-center\">\n                                        <button disabled={!isEnabled} style={{ 'visibility': `${displayButon}` }} type=\"submit\" className=\"btn uiButtonGroup post-button-fbPhotoCurationControl App-button-primary \">POST</button>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </section>\n            </Fragment>\n        )\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}