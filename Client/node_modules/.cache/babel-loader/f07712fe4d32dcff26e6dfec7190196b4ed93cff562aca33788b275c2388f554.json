{"ast":null,"code":"import React from'react';import{toast}from'react-toastify';import{ToastComponent}from'../components/common';const BASE_URL='http://localhost:8080';export default{getBaseUrl:()=>{return BASE_URL;},isAuthenticated:()=>{return window.localStorage.getItem('token')!==null;},getPayload:()=>{const token=localStorage.getItem('token');if(token!==null&&token!==undefined){const payload=JSON.parse(atob(token.split('.')[1]));if(payload){return payload;}}},getUsername:()=>{const token=localStorage.getItem('token');if(token!==null&&token!==undefined){const payload=JSON.parse(atob(token.split('.')[1]));if(payload){return payload['sub'];}}},getUserId:()=>{const token=localStorage.getItem('token');if(token!==null&&token!==undefined){const payload=JSON.parse(atob(token.split('.')[1]));if(payload){return payload['id'];}}},getRole:()=>{const token=localStorage.getItem('token');if(token!==null&&token!==undefined){const payload=JSON.parse(atob(token.split('.')[1]));if(payload){return payload['role'];}}},getProfilePicUrl:()=>{const token=localStorage.getItem('token');if(token!==null&&token!==undefined){const payload=JSON.parse(atob(token.split('.')[1]));if(payload){return payload['profilePicUrl'];}}},getFirstName:()=>{const token=localStorage.getItem('token');if(token!==null&&token!==undefined){const payload=JSON.parse(atob(token.split('.')[1]));if(payload){return payload['firstName'];}}},isTheUserLoggedIn:()=>{const token=localStorage.getItem('token');if(token!==null&&token!==undefined){try{const payload=JSON.parse(atob(token.split('.')[1]));const role=payload['role'];if(payload){if(role!==null||role!==undefined){return true;}}}catch(err){localStorage.clear();toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast,{text:'Unauthorized'}),{position:toast.POSITION.TOP_RIGHT});// throw new Error(\"Unauthorized\");\n}}return false;},isRoot:()=>{const token=localStorage.getItem('token');if(token!==null&&token!==undefined){const payload=JSON.parse(atob(token.split('.')[1]));const role=payload['role'];if(payload){if((role!==null||role!==undefined)&&role==='ROOT'){return true;}}}return false;},isAdmin:()=>{const token=localStorage.getItem('token');if(token!==null&&token!==undefined){const payload=JSON.parse(atob(token.split('.')[1]));const role=payload['role'];if(payload){if((role!==null||role!==undefined)&&(role==='ADMIN'||role==='ROOT')){return true;}}}return false;},isLoggedInUser(username){const token=localStorage.getItem('token');if(token!==null&&token!==undefined){const payload=JSON.parse(atob(token.split('.')[1]));if(payload){const loggedInUserName=payload['sub'];if(username===loggedInUserName){return true;}return false;}}},checkIfIsRoot(role){if(role==='ROOT'){return true;}return false;},formatUsername(){let firstName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';let lastName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let nameLength=arguments.length>2&&arguments[2]!==undefined?arguments[2]:18;let name=firstName+' '+lastName;if(name.length>=nameLength){return name.substring(0,nameLength)+'...';}return name;},getImageSize(profilePicUrl){let img=new Image();img.src=profilePicUrl;if(img.width>=img.height){return'l';}return'';}};","map":{"version":3,"names":["React","toast","ToastComponent","BASE_URL","getBaseUrl","isAuthenticated","window","localStorage","getItem","getPayload","token","undefined","payload","JSON","parse","atob","split","getUsername","getUserId","getRole","getProfilePicUrl","getFirstName","isTheUserLoggedIn","role","err","clear","error","createElement","errorToast","text","position","POSITION","TOP_RIGHT","isRoot","isAdmin","isLoggedInUser","username","loggedInUserName","checkIfIsRoot","formatUsername","firstName","arguments","length","lastName","nameLength","name","substring","getImageSize","profilePicUrl","img","Image","src","width","height"],"sources":["C:/Users/rijul/Downloads/Alumni/Alumani/Client/src/infrastructure/userService.js"],"sourcesContent":["import React from 'react';\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../components/common'\n\nconst BASE_URL = 'http://localhost:8080';\n\nexport default {\n    getBaseUrl: () => {\n        return BASE_URL;\n    },\n\n    isAuthenticated: () => {\n        return window.localStorage.getItem('token') !== null\n    },\n\n    getPayload: () => {\n        const token = localStorage.getItem('token')\n\n        if (token !== null && token !== undefined) {\n            const payload = JSON.parse(atob(token.split('.')[1]));\n            if (payload) {\n                return payload;\n            }\n        }\n    },\n\n    getUsername: () => {\n        const token = localStorage.getItem('token')\n        if (token !== null && token !== undefined) {\n            const payload = JSON.parse(atob(token.split('.')[1]));\n\n            if (payload) {\n                return payload['sub'];\n            }\n        }\n    },\n\n    getUserId: () => {\n        const token = localStorage.getItem('token')\n        if (token !== null && token !== undefined) {\n            const payload = JSON.parse(atob(token.split('.')[1]));\n\n            if (payload) {\n                return payload['id'];\n            }\n        }\n    },\n\n    getRole: () => {\n        const token = localStorage.getItem('token')\n        if (token !== null && token !== undefined) {\n            const payload = JSON.parse(atob(token.split('.')[1]));\n            if (payload) {\n                return payload['role'];\n            }\n        }\n    },\n\n    getProfilePicUrl: () => {\n        const token = localStorage.getItem('token')\n        if (token !== null && token !== undefined) {\n            const payload = JSON.parse(atob(token.split('.')[1]));\n            if (payload) {\n                return payload['profilePicUrl'];\n            }\n        }\n    },\n\n    getFirstName: () => {\n        const token = localStorage.getItem('token')\n        if (token !== null && token !== undefined) {\n            const payload = JSON.parse(atob(token.split('.')[1]));\n            if (payload) {\n                return payload['firstName'];\n            }\n        }\n    },\n\n    isTheUserLoggedIn: () => {\n        const token = localStorage.getItem('token')\n        if (token !== null && token !== undefined) {\n            try {\n                const payload = JSON.parse(atob(token.split('.')[1]));\n                const role = payload['role'];\n\n                if (payload) {\n                    if (role !== null || role !== undefined) {\n                        return true;\n                    }\n                }\n            } catch (err) {\n                localStorage.clear();\n                toast.error(<ToastComponent.errorToast text={'Unauthorized'} />, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n                // throw new Error(\"Unauthorized\");\n            }\n        }\n        return false;\n    },\n\n    isRoot: () => {\n        const token = localStorage.getItem('token')\n        if (token !== null && token !== undefined) {\n            const payload = JSON.parse(atob(token.split('.')[1]));\n            const role = payload['role'];\n\n            if (payload) {\n                if ((role !== null || role !== undefined) && role === 'ROOT') {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    },\n\n    isAdmin: () => {\n        const token = localStorage.getItem('token')\n        if (token !== null && token !== undefined) {\n            const payload = JSON.parse(atob(token.split('.')[1]));\n            const role = payload['role'];\n            if (payload) {\n                if ((role !== null || role !== undefined) && (role === 'ADMIN' || role === 'ROOT')) {\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    },\n\n\n    isLoggedInUser(username) {\n        const token = localStorage.getItem('token')\n        if (token !== null && token !== undefined) {\n            const payload = JSON.parse(atob(token.split('.')[1]));\n\n            if (payload) {\n                const loggedInUserName = payload['sub'];\n                if (username === loggedInUserName) {\n                    return true;\n                }\n                return false;\n            }\n        }\n    },\n\n    checkIfIsRoot(role) {\n        if (role === 'ROOT') {\n            return true;\n        }\n\n        return false;\n    },\n\n    formatUsername(firstName = '', lastName = '', nameLength = 18) {\n        let name = firstName + ' ' + lastName;\n\n        if (name.length >= nameLength) {\n            return name.substring(0, nameLength) + '...';\n        }\n        return name;\n    },\n\n    getImageSize(profilePicUrl) {\n        let img = new Image();\n        img.src = profilePicUrl;\n\n        if (img.width >= img.height) {\n            return 'l'\n        }\n\n        return '';\n    }\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}