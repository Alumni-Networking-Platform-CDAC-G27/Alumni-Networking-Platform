{"ast":null,"code":"import React,{Component}from'react';import{requester}from'../../infrastructure';import{toast}from'react-toastify';import{ToastComponent}from'../common';export default class UserRow extends Component{constructor(props){super(props);this.promote=event=>{event.preventDefault();const id=this.state.id;requester.post('/users/promote?id='+id,id,response=>{if(response.success){this.setState({role:'ADMIN'});toast.success(/*#__PURE__*/React.createElement(ToastComponent.successToast,{text:response.message}),{position:toast.POSITION.TOP_RIGHT});}else{toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast,{text:response.message}),{position:toast.POSITION.TOP_RIGHT});}}).catch(err=>{toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast,{text:`Internal Server Error: ${err.message}`}),{position:toast.POSITION.TOP_RIGHT});if(err.status===403&&err.message==='Your JWT token is expired. Please log in!'){localStorage.clear();this.props.history.push('/login');}});};this.demote=event=>{event.preventDefault();const id=this.state.id;requester.post('/users/demote?id='+id,id,response=>{if(response.success){this.setState({role:'USER'});toast.success(/*#__PURE__*/React.createElement(ToastComponent.successToast,{text:response.message}),{position:toast.POSITION.TOP_RIGHT});}else{toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast,{text:response.message}),{position:toast.POSITION.TOP_RIGHT});}}).catch(err=>{toast.error(/*#__PURE__*/React.createElement(ToastComponent.errorToast,{text:`Internal Server Error: ${err.message}`}),{position:toast.POSITION.TOP_RIGHT});if(err.status===403&&err.message==='Your JWT token is expired. Please log in!'){localStorage.clear();this.props.history.push('/login');}});};this.render=()=>{return/*#__PURE__*/React.createElement(\"tr\",{className:\"row\"},/*#__PURE__*/React.createElement(\"td\",{className:\"col-md-1 font-weight-bold\"},this.state.index),/*#__PURE__*/React.createElement(\"td\",{className:\"col-md-2\",style:{'color':'#40a3f4'}},this.state.username),/*#__PURE__*/React.createElement(\"td\",{className:\"col-md-2 py-auto\"},this.state.method),/*#__PURE__*/React.createElement(\"td\",{className:\"col-md-2\"},this.state.action),/*#__PURE__*/React.createElement(\"td\",{className:\"col-md-2\"},this.state.tableName),/*#__PURE__*/React.createElement(\"td\",{className:\"col-md-3\"},this.state.time));};this.state={id:'',username:'',method:'',tableName:'',action:'',time:''};this.promote=this.promote.bind(this);this.demote=this.demote.bind(this);}componentDidMount(){this.setState({...this.props});}}","map":{"version":3,"names":["React","Component","requester","toast","ToastComponent","UserRow","constructor","props","promote","event","preventDefault","id","state","post","response","success","setState","role","createElement","successToast","text","message","position","POSITION","TOP_RIGHT","error","errorToast","catch","err","status","localStorage","clear","history","push","demote","render","className","index","style","username","method","action","tableName","time","bind","componentDidMount"],"sources":["C:/Users/rijul/Downloads/Alumni/Alumani/Client/src/components/user/LogsRow.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { requester } from '../../infrastructure'\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common'\n\nexport default class UserRow extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            id: '',\n            username: '',\n            method: '',\n            tableName: '',\n            action: '',\n            time: ''\n        }\n\n        this.promote = this.promote.bind(this);\n        this.demote = this.demote.bind(this);\n    }\n\n    componentDidMount(){\n        this.setState({...this.props})\n    }\n\n    promote = (event) => {\n        event.preventDefault();\n        const id = this.state.id;\n        requester.post('/users/promote?id=' + id, id, (response) => {\n            if (response.success) {\n                this.setState({role: 'ADMIN'})\n                toast.success(<ToastComponent.successToast text={response.message} />, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            } else {\n                toast.error(<ToastComponent.errorToast text={response.message} />, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n        }).catch(err => {\n            toast.error(<ToastComponent.errorToast text={`Internal Server Error: ${err.message}`} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n\n            if(err.status === 403 && err.message === 'Your JWT token is expired. Please log in!'){\n                localStorage.clear();\n                this.props.history.push('/login');\n            }\n        })\n    }\n\n    demote = (event) => {\n        event.preventDefault();\n        const id = this.state.id;\n        requester.post('/users/demote?id=' + id, id, (response) => {\n            if (response.success) {\n                this.setState({role: 'USER'})\n                toast.success(<ToastComponent.successToast text={response.message} />, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            } else {\n                toast.error(<ToastComponent.errorToast text={response.message} />, {\n                    position: toast.POSITION.TOP_RIGHT\n                });\n            }\n\n        }).catch(err => {\n            toast.error(<ToastComponent.errorToast text={`Internal Server Error: ${err.message}`} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n\n            if(err.status === 403 && err.message === 'Your JWT token is expired. Please log in!'){\n                localStorage.clear();\n                this.props.history.push('/login');\n            }\n        })\n    }\n\n    render = () => {\n        return (\n            <tr className=\"row\" >\n                <td className=\"col-md-1 font-weight-bold\" >\n                   {this.state.index}\n                </td>\n                <td className=\"col-md-2\" style={{'color':'#40a3f4'}}>\n                   {this.state.username}\n                </td>\n\n                <td className=\"col-md-2 py-auto\" >\n                    {this.state.method}\n                </td>\n\n                <td className=\"col-md-2\" >\n                   {this.state.action}\n                </td>\n\n                <td className=\"col-md-2\" >\n                    {this.state.tableName}\n                </td>\n\n                <td className=\"col-md-3\" >\n                    {this.state.time}\n                </td>\n            </tr>\n        )\n    }\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}