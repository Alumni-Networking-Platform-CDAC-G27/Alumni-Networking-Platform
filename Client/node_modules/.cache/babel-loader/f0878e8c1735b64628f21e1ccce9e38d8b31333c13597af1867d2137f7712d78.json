{"ast":null,"code":"import{requester}from'../../infrastructure';import{ADD_PICTURE_SUCCESS,ADD_PICTURE_BEGIN,ADD_PICTURE_ERROR,REMOVE_PICTURE_SUCCESS,REMOVE_PICTURE_BEGIN,REMOVE_PICTURE_ERROR,FETCH_PICTURE_SUCCESS,FETCH_PICTURE_BEGIN,FETCH_PICTURE_ERROR,CHANGE_PICTURES_SUCCESS,CHANGE_PICTURES_BEGIN,CHANGE_PICTURES_ERROR,UPDATE_PICTURES}from'./actionTypes';// addPicture\nfunction addPictureSuccess(response){return{type:ADD_PICTURE_SUCCESS,payload:response};}function addPictureBegin(){return{type:ADD_PICTURE_BEGIN};}function addPictureError(error,message,status,path){return{type:ADD_PICTURE_ERROR,error,message,status,path};}function addPicturesAction(data,timeLineUserId){return dispatch=>{dispatch(addPictureBegin());return requester.addPhoto('/pictures/add',data,response=>{if(response.error){const{error,message,status,path}=response;dispatch(addPictureError(error,message,status,path));}else{dispatch(changeAllPicturesAction(timeLineUserId));dispatch(addPictureSuccess(response));}}).catch(err=>{if(err.status===403&&err.message==='Your JWT token is expired. Please log in!'){localStorage.clear();}dispatch(addPictureError('',`Error: ${err.message}`,err.status,''));});};};// removePicture\nfunction removePictureSuccess(response){return{type:REMOVE_PICTURE_SUCCESS,payload:response};}function removePictureBegin(){return{type:REMOVE_PICTURE_BEGIN};}function removePictureError(error,message,status,path){return{type:REMOVE_PICTURE_ERROR,error,message,status,path};}function removePictureAction(loggedInUserId,photoToRemoveId,timeLineUserId){const requestBody={loggedInUserId,photoToRemoveId};return dispatch=>{dispatch(removePictureBegin());return requester.post('/pictures/remove',requestBody,response=>{if(response.error){const{error,message,status,path}=response;dispatch(removePictureError(error,message,status,path));}else{dispatch(changeAllPicturesAction(timeLineUserId));dispatch(removePictureSuccess(response));}}).catch(err=>{if(err.status===403&&err.message==='Your JWT token is expired. Please log in!'){localStorage.clear();}dispatch(removePictureError('',`Error: ${err.message}`,err.status,''));});};};// fetchPictures\nfunction fetchPictureSuccess(picturesArr){return{type:FETCH_PICTURE_SUCCESS,payload:picturesArr};}function fetchPictureBegin(){return{type:FETCH_PICTURE_BEGIN};}function fetchPictureError(error,message,status,path){return{type:FETCH_PICTURE_ERROR,error,message,status,path};}function fetchPicturesAction(userId){return dispatch=>{dispatch(fetchPictureBegin());return requester.get('/pictures/all/'+userId,response=>{if(response.error){const{error,message,status,path}=response;dispatch(fetchPictureError(error,message,status,path));}else{dispatch(fetchPictureSuccess(response));}}).catch(err=>{if(err.status===403&&err.message==='Your JWT token is expired. Please log in!'){localStorage.clear();}dispatch(fetchPictureError('',`Error: ${err.message}`,err.status,''));});};};// changePicturesArr\nfunction changePictureSuccess(picturesArr){return{type:CHANGE_PICTURES_SUCCESS,payload:picturesArr};}function changePictureBegin(){return{type:CHANGE_PICTURES_BEGIN};}function changePictureError(error,message,status,path){return{type:CHANGE_PICTURES_ERROR,error,message,status,path};}const updatePicturesAction=picturesArr=>{return{type:UPDATE_PICTURES,payload:picturesArr};};function changeAllPicturesAction(userId){return dispatch=>{dispatch(changePictureBegin());return requester.get('/pictures/all/'+userId,response=>{if(response.error){const{error,message,status,path}=response;dispatch(changePictureError(error,message,status,path));}else{dispatch(updatePicturesAction(response));dispatch(changePictureSuccess(response));}}).catch(err=>{if(err.status===403&&err.message==='Your JWT token is expired. Please log in!'){localStorage.clear();}dispatch(changePictureError('',`Error: ${err.message}`,err.status,''));});};};export{addPicturesAction,removePictureAction,fetchPicturesAction,changeAllPicturesAction};","map":{"version":3,"names":["requester","ADD_PICTURE_SUCCESS","ADD_PICTURE_BEGIN","ADD_PICTURE_ERROR","REMOVE_PICTURE_SUCCESS","REMOVE_PICTURE_BEGIN","REMOVE_PICTURE_ERROR","FETCH_PICTURE_SUCCESS","FETCH_PICTURE_BEGIN","FETCH_PICTURE_ERROR","CHANGE_PICTURES_SUCCESS","CHANGE_PICTURES_BEGIN","CHANGE_PICTURES_ERROR","UPDATE_PICTURES","addPictureSuccess","response","type","payload","addPictureBegin","addPictureError","error","message","status","path","addPicturesAction","data","timeLineUserId","dispatch","addPhoto","changeAllPicturesAction","catch","err","localStorage","clear","removePictureSuccess","removePictureBegin","removePictureError","removePictureAction","loggedInUserId","photoToRemoveId","requestBody","post","fetchPictureSuccess","picturesArr","fetchPictureBegin","fetchPictureError","fetchPicturesAction","userId","get","changePictureSuccess","changePictureBegin","changePictureError","updatePicturesAction"],"sources":["C:/Users/rijul/Downloads/Alumni/Alumani/Client/src/store/actions/pictureActions.js"],"sourcesContent":["import { requester } from '../../infrastructure';\nimport {\n    ADD_PICTURE_SUCCESS, ADD_PICTURE_BEGIN, ADD_PICTURE_ERROR,\n    REMOVE_PICTURE_SUCCESS, REMOVE_PICTURE_BEGIN, REMOVE_PICTURE_ERROR,\n    FETCH_PICTURE_SUCCESS, FETCH_PICTURE_BEGIN, FETCH_PICTURE_ERROR,\n    CHANGE_PICTURES_SUCCESS, CHANGE_PICTURES_BEGIN, CHANGE_PICTURES_ERROR, UPDATE_PICTURES,\n} from './actionTypes';\n\n// addPicture\nfunction addPictureSuccess(response) {\n    return {\n        type: ADD_PICTURE_SUCCESS,\n        payload: response\n    }\n}\n\nfunction addPictureBegin() {\n    return {\n        type: ADD_PICTURE_BEGIN,\n    }\n}\n\nfunction addPictureError(error, message, status, path) {\n    return {\n        type: ADD_PICTURE_ERROR,\n        error,\n        message,\n        status,\n        path,\n    }\n}\n\nfunction addPicturesAction(data, timeLineUserId) {\n    return (dispatch) => {\n        dispatch(addPictureBegin())\n        return requester.addPhoto('/pictures/add', data, (response) => {\n            if (response.error) {\n                const { error, message, status, path } = response;\n                dispatch(addPictureError(error, message, status, path));\n            } else {\n                dispatch(changeAllPicturesAction(timeLineUserId));\n                dispatch(addPictureSuccess(response));\n            }\n        }).catch(err => {\n            if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n                localStorage.clear();\n            }\n            dispatch(addPictureError('', `Error: ${err.message}`, err.status, ''));\n        })\n    }\n};\n\n// removePicture\nfunction removePictureSuccess(response) {\n    return {\n        type: REMOVE_PICTURE_SUCCESS,\n        payload: response\n    }\n}\n\nfunction removePictureBegin() {\n    return {\n        type: REMOVE_PICTURE_BEGIN,\n    }\n}\n\nfunction removePictureError(error, message, status, path) {\n    return {\n        type: REMOVE_PICTURE_ERROR,\n        error,\n        message,\n        status,\n        path,\n    }\n}\n\nfunction removePictureAction(loggedInUserId, photoToRemoveId, timeLineUserId) {\n    const requestBody = { loggedInUserId, photoToRemoveId }\n    return (dispatch) => {\n        dispatch(removePictureBegin())\n        return requester.post('/pictures/remove', requestBody, (response) => {\n            if (response.error) {\n                const { error, message, status, path } = response;\n                dispatch(removePictureError(error, message, status, path));\n            } else {\n                dispatch(changeAllPicturesAction(timeLineUserId));\n                dispatch(removePictureSuccess(response));\n            }\n        }).catch(err => {\n            if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n                localStorage.clear();\n            }\n            dispatch(removePictureError('', `Error: ${err.message}`, err.status, ''));\n        })\n    }\n};\n\n// fetchPictures\nfunction fetchPictureSuccess(picturesArr) {\n    return {\n        type: FETCH_PICTURE_SUCCESS,\n        payload: picturesArr\n    }\n}\n\nfunction fetchPictureBegin() {\n    return {\n        type: FETCH_PICTURE_BEGIN,\n    }\n}\n\nfunction fetchPictureError(error, message, status, path) {\n    return {\n        type: FETCH_PICTURE_ERROR,\n        error,\n        message,\n        status,\n        path,\n    }\n}\n\nfunction fetchPicturesAction(userId) {\n    return (dispatch) => {\n        dispatch(fetchPictureBegin())\n        return requester.get('/pictures/all/' + userId, (response) => {\n            if (response.error) {\n                const { error, message, status, path } = response;\n                dispatch(fetchPictureError(error, message, status, path));\n            } else {\n                dispatch(fetchPictureSuccess(response));\n            }\n        }).catch(err => {\n            if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n                localStorage.clear();\n            }\n            dispatch(fetchPictureError('', `Error: ${err.message}`, err.status, ''));\n        })\n    }\n};\n\n\n// changePicturesArr\nfunction changePictureSuccess(picturesArr) {\n    return {\n        type: CHANGE_PICTURES_SUCCESS,\n        payload: picturesArr\n    }\n}\n\nfunction changePictureBegin() {\n    return {\n        type: CHANGE_PICTURES_BEGIN,\n    }\n}\n\nfunction changePictureError(error, message, status, path) {\n    return {\n        type: CHANGE_PICTURES_ERROR,\n        error,\n        message,\n        status,\n        path,\n    }\n}\n\nconst updatePicturesAction = (picturesArr) => {\n    return {\n        type: UPDATE_PICTURES,\n        payload: picturesArr\n    }\n}\n\nfunction changeAllPicturesAction(userId) {\n    return (dispatch) => {\n        dispatch(changePictureBegin())\n        return requester.get('/pictures/all/' + userId, (response) => {\n            if (response.error) {\n                const { error, message, status, path } = response;\n                dispatch(changePictureError(error, message, status, path));\n            } else {\n                dispatch(updatePicturesAction(response));\n                dispatch(changePictureSuccess(response));\n            }\n        }).catch(err => {\n            if (err.status === 403 && err.message === 'Your JWT token is expired. Please log in!') {\n                localStorage.clear();\n            }\n            dispatch(changePictureError('', `Error: ${err.message}`, err.status, ''));\n        })\n    }\n};\n\nexport { addPicturesAction, removePictureAction, fetchPicturesAction, changeAllPicturesAction };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}